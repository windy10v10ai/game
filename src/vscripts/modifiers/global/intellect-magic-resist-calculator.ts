/**
 * 计算基于智力的实际魔抗值
 * 使用3分段线性函数：低智力时收益高，高智力时收益递减
 * @param intellect 英雄的基础智力值
 * @returns 实际应该获得的魔抗值（0-1之间的小数，例如0.25表示25%）
 */
export function calculateIntellectMagicResist(intellect: number): number {
  // 使用简单的3分段线性函数计算实际应该获得的魔抗
  // 分段规则：每段收益递减，简单高效
  // 预计算常量：前500点=0.25，500-1000点=0.125，前1000点=0.375
  // 目标：5000智力时达到100%魔抗上限（基础25% + 智力75%）
  if (intellect <= 500) {
    // 0-500智力：每点0.05%
    return intellect * 0.0005;
  } else if (intellect <= 1000) {
    // 500-1000智力：前500点固定0.25，超出部分按0.025%
    return 0.25 + (intellect - 500) * 0.00025;
  } else {
    // 1000+智力：前1000点固定0.375，超出部分按0.009375%
    // 调整系数使得5000智力时正好达到100%魔抗上限（基础25% + 智力75%）
    return 0.375 + (intellect - 1000) * 0.00009375;
  }
}
